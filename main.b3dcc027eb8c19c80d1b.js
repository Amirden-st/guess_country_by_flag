(()=>{"use strict";var n,t={235:()=>{function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var t=function(){function t(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,o;return e=t,(r=[{key:"render",value:function(){return'\n        <div class="start-menu">\n            <div id="pic"></div>\n            <div class="content">\n                <h2 id="title">Guess country by a flag</h2>\n                <div class="settings">\n                    <h3 id="subtitle">Settings:</h3>\n                    <div class="setting"><span class="setting-desc">Countries from:</span> <select name="" id="region">\n                        <option value="all">the whole world</option>\n                        <option value="africa">Africa</option>\n                        <option value="americas">Americas</option>\n                        <option value="asia">Asia</option>\n                        <option value="europe">Europe</option>\n                        <option value="oceania">Oceania</option>\n                    </select></div>\n                    <div class="setting"><span class="setting-desc">Number of questions:</span> <select name="" id="questions-number">\n                        <option value="10">10</option>\n                        <option value="25">25</option>\n                    </select></div>\n                    <button id="start-game" type="button">Play</button>\n                </div>\n            </div>\n        </div>\n        '}}])&&n(e.prototype,r),o&&n(e,o),t}();function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function r(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var o=function(){function n(t,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"next";e(this,n),this.flagUrl=t,this.options=r,this.btnText=o.toLowerCase()}var t,o,i;return t=n,(o=[{key:"render",value:function(){return'  \n      <div id="question">\n        <div class="flag" style="background-image: url('.concat(this.flagUrl,');"></div>\n        <div class="options">\n            <div class="option" id="option0">').concat(this.options[0].name,'</div>\n            <div class="option" id="option1">').concat(this.options[1].name,'</div>\n            <div class="option" id="option2">').concat(this.options[2].name,'</div>\n            <div class="option" id="option3">').concat(this.options[3].name,'</div>\n        </div>\n        <div id="time">\n          <div id="bar"></div>\n        </div>\n        \n      </div>\n      ')}}])&&r(t.prototype,o),i&&r(t,i),n}();function i(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=n&&("undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"]);if(null==e)return;var r,o,i=[],a=!0,c=!1;try{for(e=e.call(n);!(a=(r=e.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(n){c=!0,o=n}finally{try{a||null==e.return||e.return()}finally{if(c)throw o}}return i}(n,t)||function(n,t){if(!n)return;if("string"==typeof n)return a(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return a(n,t)}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function c(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var s=function(){function n(t,e){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.score=t,this.questionsNumber=e;var r=i(this.getRating(),2);this.rating=r[0],this.color=r[1]}var t,e,r;return t=n,(e=[{key:"getRating",value:function(){var n=this.score/this.questionsNumber;return n<=.3?["You need to study more","#FF5252"]:n<=.7?["Not bad","#FFEB3B"]:n<=.9?["Excellent!","#4CAF50"]:["Great!!!","#E040FB"]}},{key:"render",value:function(){return'\n      <div id="result">\n        <h2 id="result-title">'.concat(this.rating,'</h2>\n        <p id="score"><span style="color: ').concat(this.color,'">').concat(this.score,"</span> / ").concat(this.questionsNumber,'</p>\n        <a id="replay-btn" href="">Replay</a>\n      </div>\n      ')}}])&&c(t.prototype,e),r&&c(t,r),n}();function u(n,t,e,r,o,i,a){try{var c=n[i](a),s=c.value}catch(n){return void e(n)}c.done?t(s):Promise.resolve(s).then(r,o)}var l=document.getElementById("game-layer"),d=0;function v(n){l.innerHTML=(new t).render(),document.getElementById("start-game").addEventListener("click",f)}function f(){var n,t=document.getElementById("region").value;(n=regeneratorRuntime.mark((function n(){var e,r,i,a,c,u,f,h,m,y,g,b;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e=function(){var n=g[b],t=new Image;l.innerHTML='<div class="lds-ring"><div></div><div></div><div></div><div></div></div>',t.onload=function(){var e=new o(t.src,n.options);l.innerHTML=e.render(),r(),document.querySelectorAll(".option").forEach((function(n){n.addEventListener("click",i)}))},t.src=n.answer.flag},r=function(){var n=document.getElementById("bar"),t=new Date,e=setInterval((function(){var r=(new Date-t)/1e3;r>=10&&(clearInterval(e),u(),f(i),a()),n.style.width=String(r/10*100)+"%"}),10);return e},i=function n(){c(this)?(this.style.backgroundColor="#4CAF50",d++):(this.style.backgroundColor="#FF5252",u()),f(n),clearInterval(1),a()},a=function(){document.getElementById("question").innerHTML+='\n                <button id="question-btn" type="button">'.concat(b==y-1?"Finish":"Next","</button>");var n=document.getElementById("question-btn");return n.addEventListener("click",(function(){b==y-1?h():(b++,e())})),n},c=function(n){if(n.textContent===g[b].answer.name)return!0},u=function(){document.querySelectorAll(".option").forEach((function(n){c(n)&&(n.style.backgroundColor="#4CAF50")}))},f=function(n){document.querySelectorAll(".option").forEach((function(t){t.removeEventListener("click",n)}))},h=function(){l.innerHTML=new s(d,y).render(),document.getElementById("replay-btn").addEventListener("click",(function(){b=0,d=0,v()}))},n.next=11,fetch("https://restcountries.eu/rest/v2/".concat("all"==t?"all":"region/"+t,"?fields=flag;name")).then((function(n){return n.json()})).then((function(n){return n}));case 11:m=n.sent,y=Number(document.getElementById("questions-number").value),g=p(m,y),b=0,e(),n.next=21;break;case 18:n.prev=18,n.t0=n.catch(0),console.error(n.t0);case 21:case"end":return n.stop()}}),n,null,[[0,18]])})),function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function a(n){u(i,r,o,a,c,"next",n)}function c(n){u(i,r,o,a,c,"throw",n)}a(void 0)}))})()}function p(n,t){for(var e=[],r=0;r<t;r++){var o=n.getRandom(4),i=o[Math.floor(Math.random()*o.length)];e.push({answer:i,options:o})}return e}Array.prototype.getRandom=function(n){var t=new Array(n),e=this.length,r=new Array(e);if(n>e)throw new RangeError("getRandom: more elements taken than available");for(;n--;){var o=Math.floor(Math.random()*e);t[n]=this[o in r?r[o]:o],r[o]=--e in r?r[e]:e}return t},v()}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.m=t,n=[],r.O=(t,e,o,i)=>{if(!e){var a=1/0;for(u=0;u<n.length;u++){for(var[e,o,i]=n[u],c=!0,s=0;s<e.length;s++)(!1&i||a>=i)&&Object.keys(r.O).every((n=>r.O[n](e[s])))?e.splice(s--,1):(c=!1,i<a&&(a=i));c&&(n.splice(u--,1),t=o())}return t}i=i||0;for(var u=n.length;u>0&&n[u-1][2]>i;u--)n[u]=n[u-1];n[u]=[e,o,i]},r.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),(()=>{var n={179:0};r.O.j=t=>0===n[t];var t=(t,e)=>{var o,i,[a,c,s]=e,u=0;for(o in c)r.o(c,o)&&(r.m[o]=c[o]);if(s)var l=s(r);for(t&&t(e);u<a.length;u++)i=a[u],r.o(n,i)&&n[i]&&n[i][0](),n[a[u]]=0;return r.O(l)},e=self.webpackChunkguess_country_by_flag=self.webpackChunkguess_country_by_flag||[];e.forEach(t.bind(null,0)),e.push=t.bind(null,e.push.bind(e))})(),r.O(void 0,[981],(()=>r(6981)));var o=r.O(void 0,[981],(()=>r(235)));o=r.O(o)})();